name: linting

on:
    workflow_dispatch:
    push:
        branches: [main]
    pull_request:
        branches: [main]

permissions: {}

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

jobs:
    phpstan:
        name: 'üßπ Psalm'
        runs-on: ubuntu-latest
        steps:
            - name: '‚òÅÔ∏è checkout repository'
              uses: actions/checkout@v5
              with:
                  persist-credentials: false

            - name: "üßπ Run Psalm"
              uses: docker://ghcr.io/psalm/psalm-github-actions
              with:
                composer_require_dev: true
                composer_ignore_platform_reqs: true
                # security_analysis: true
